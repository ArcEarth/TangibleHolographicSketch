<?xml version="1.0" encoding="utf-8"?>
<scene>
  <scene.settings>
    <ClipRasterizeFrame>75</ClipRasterizeFrame>
    <PhaseMatchingInterval>2</PhaseMatchingInterval>
   
    <EnableDebugLogging>1</EnableDebugLogging>
    <EnableRecordLogging>0</EnableRecordLogging>
    <RecordLogRootDir>Log</RecordLogRootDir>

    <!--When this switch is on, sub-active parts will be animated based on active parts-->
    <EnableDependentControl>1</EnableDependentControl>

    <!--When This switch is on, active body parts beside direct matched will be controlled by a cca of direct matched parts-->
    <EnableActiveDependentControl>1</EnableActiveDependentControl>
    <IngnoreInputRootRotation>1</IngnoreInputRootRotation>
    
    <PartAssignmentTransform>2</PartAssignmentTransform>

    <UsePersudoPhysicsWalk>0</UsePersudoPhysicsWalk>
    <MaxCharacterSpeed>0.5</MaxCharacterSpeed>

    <EnableInputFeatureLocalization>1</EnableInputFeatureLocalization>
    <MatchAccepetanceThreshold>0.2</MatchAccepetanceThreshold>
    <DefaultAnimationSet>walk</DefaultAnimationSet>

    <UseJointLengthWeight>0</UseJointLengthWeight>
    <UseStylizedIK>1</UseStylizedIK>
    <UseVelocity>0</UseVelocity>
    <FrameTimeScaleFactor>20</FrameTimeScaleFactor>

    <!--<IKTermWeight>1.0</IKTermWeight>
    <IKLimitWeight>200</IKLimitWeight>
    <MarkovTermWeight>1.0</MarkovTermWeight>
    <StyleLikelihoodTermWeight>0.1</StyleLikelihoodTermWeight>-->
    <DefaultTrackerCovierence>1000000000</DefaultTrackerCovierence>

    <IKTermWeight>1.0</IKTermWeight>
    <IKLimitWeight>0</IKLimitWeight>
    <MarkovTermWeight>>0.05</MarkovTermWeight>
    <StyleLikelihoodTermWeight>0.3</StyleLikelihoodTermWeight>

    <LoadCharacterModelParameter>1</LoadCharacterModelParameter>
    <CharacterModelParameterFile>CharacterAnalayze\{0}.param.xml</CharacterModelParameterFile>

    <CharacterPcaCutoff>0.00001</CharacterPcaCutoff>
    <CharacterActiveEnergy>0.40</CharacterActiveEnergy>
    <CharacterSubactiveEnergy>0.06</CharacterSubactiveEnergy>

    <PlayerPcaCutoff>0.04</PlayerPcaCutoff>
    <PlayerActiveEnergy>0.3</PlayerActiveEnergy>
    <PlayerSubactiveEnergy>0.03</PlayerSubactiveEnergy>

    <RevampLikilyhoodThreshold>0.01</RevampLikilyhoodThreshold>
    <RevampLikilyhoodTimeThreshold>1.0</RevampLikilyhoodTimeThreshold>
    
    <enviroment>
      <gravity>0,-0.1,0</gravity>
    </enviroment>
  </scene.settings>
  <scene.assets>
    <phong_material name="environment_cutoff_mat" diffuse_map="Environment.dds" alpha_discard="true"></phong_material>
    <phong_material name="environment_solid_mat" diffuse_map="Environment.dds" alpha_discard="false"></phong_material>
    <phong_material name="pinetree_mat" diffuse_map="Pine_tree_texture.dds" alpha_discard="true"></phong_material>
    <phong_material name="watchtower_mat" diffuse_map="Fortress_Watchtower.dds" normal_map="Pine_tree_normal.dds" alpha_discard="false"></phong_material>

    <phong_material name="spider_material" diffuse_map="spider-tex.png"></phong_material>
    <phong_material name="horse_material" alpha_discard="true" diffuse_map="Horse_D.dds"></phong_material>
    <!--<phong_material name="allosaurus_material" diffuse_map="Allosaurus_diffuse.dds" normal_map="Allosaurus_normal.dds"></phong_material>-->
    <phong_material name="kitten_Body" diffuse_map="kitten_Albedo.dds" normal_map="kitten_Normal.dds"></phong_material>
    <phong_material name="kitten_Hair" diffuse_map="kitten_Albedo.dds" alpha_discard="true"></phong_material>
    <phong_material name="kitten_Cornea" diffuse_map="kitten_Specular.dds" diffuse_color="#20000000" specular_color="#FFFFFFFF" normal_map="kitten_Normal.dds" alpha_discard="true"></phong_material>
    <phong_material name="kitten_EyeballB" diffuse_map="kitten_Albedo.dds"></phong_material>
    <phong_material name="kitten_EyeballA" diffuse_map="kitten_Albedo.dds"></phong_material>


    <mesh name="cube_mesh" src="cube.obj"></mesh>
    <mesh name="pinetree_mesh" src="Pine_tree.fbx" material="{pinetree_mat}"></mesh>
    <mesh name="Rock_01_a" src="Rock_01_a.fbx" material="{environment_solid_mat}"></mesh>
    <mesh name="Rock_01_b" src="Rock_01_b.fbx" material="{environment_solid_mat}"></mesh>
    <mesh name="Bush_01_a" src="Bush_01_a.fbx" material="{environment_cutoff_mat}"></mesh>
    <mesh name="Bush_01_b" src="Bush_01_b.fbx" material="{environment_cutoff_mat}"></mesh>
    <mesh name="Bush_01_c" src="Bush_01_c.fbx" material="{environment_cutoff_mat}"></mesh>
    <mesh name="Bush_02_a" src="Bush_02_a.fbx" material="{environment_cutoff_mat}"></mesh>
    <mesh name="Bush_02_b" src="Bush_02_b.fbx" material="{environment_cutoff_mat}"></mesh>
    <mesh name="Bush_02_c" src="Bush_02_c.fbx" material="{environment_cutoff_mat}"></mesh>
    <mesh name="Tree_01_a" src="Tree_01_a.fbx" material="{environment_cutoff_mat}"></mesh>
    <mesh name="Tree_01_b" src="Tree_01_b.fbx" material="{environment_cutoff_mat}"></mesh>
    <mesh name="Tree_02_a" src="Tree_02_a.fbx" material="{environment_cutoff_mat}"></mesh>
    <mesh name="Tree_02_b" src="Tree_02_b.fbx" material="{environment_cutoff_mat}"></mesh>
    <mesh name="Mushroom_01_a" src="Mushroom_01_a.fbx" material="{environment_solid_mat}"></mesh>
    <mesh name="Mushroom_01_b" src="Mushroom_01_b.fbx" material="{environment_solid_mat}"></mesh>
    <mesh name="Mushroom_01_c" src="Mushroom_01_c.fbx" material="{environment_solid_mat}"></mesh>
    <mesh name="Mushroom_02_a" src="Mushroom_02_a.fbx" material="{environment_solid_mat}"></mesh>
    <mesh name="Mushroom_02_b" src="Mushroom_02_b.fbx" material="{environment_solid_mat}"></mesh>
    <mesh name="Mushroom_02_c" src="Mushroom_02_c.fbx" material="{environment_solid_mat}"></mesh>
    <mesh name="watchtower_main" src="Watchtower_Main.fbx" material="{watchtower_mat}"></mesh>
    <mesh name="watchtower_entrance" src="Watchtower_Entrance.fbx" material="{watchtower_mat}"></mesh>
    <mesh name="watchtower_flag" src="Watchtower_Flag_Pole.fbx" material="{watchtower_mat}"></mesh>
    <mesh name="watchtower_window" src="Watchtower_Window.fbx" material="{watchtower_mat}"></mesh>

    <mesh name="spider_mesh" src="spider.fbx" material="{spider_material}"></mesh>
    <mesh name="horse_mesh" src="Horse.fbx" material="{horse_material}" ></mesh>
    <!--<mesh name="allosaurus_mesh" src="allosaurus.fbx" material="{allosaurus_material}"></mesh>-->
    <mesh name="cat_mesh" src="kitten.fbx"></mesh>
  </scene.assets>
  <scene.content>
    <grid name="root">

      <light name="sun_light" primary="false" color="#FFAAAAAA" position="5,10,5" near="2" far="16" focus="0,0,0" up="0,0,-1" hfov="8.5" wfov="8.5" aspect="1" perspective="false" drops_shadow="true" resolution="2048" />

      <shadow_camera name="primary_camera" primary="true" background="#FFFFFFFF" position="0,1,3.5" focus="0,0.5,0" up="0,1,0">
        <first_person_keyboard_mouse_control />
      </shadow_camera>

      <skydome name="sky" background="Skydome\Sunny_01B.dds"/>

      <coordinate_axis/>

      <object name="ground" position="0,-0.01,0" scale="10.0,0.005,10.0" mesh="{cube_mesh}"/>

      <object name="bush_001" position="1.2,0,1" scale="0.01" mesh="{Bush_01_a}" />
      <object name="bush_002" position="-1.0,0,-0.8" scale="0.006" mesh="{Bush_01_b}" />
      <object name="rock_001" position="1.7,0,1.3" scale="0.004" mesh="{Rock_01_a}" />
      <object name="rock_002" position="-1.4,0,1.7" scale="0.006" mesh="{Rock_01_a}" />
      <object name="rock_003" position="1.3,0,-1.3" scale="0.002" mesh="{Rock_01_b}" />
      <object name="mushroom_001" position="-2.4,0,-0.6" scale="0.008" mesh="{Mushroom_01_a}" />
      <object name="tree_brush_001" position="2.5,0,-0.7" scale="0.01,0.005,0.01" mesh="{Bush_01_b}" />
      <object name="tree_001" position="2.5,0,-0.7" scale="0.008" mesh="{Tree_01_a}" />
      <object name="tree_002" position="-2.5,0,-1.7" scale="0.0065" mesh="{Tree_01_b}" />
      <object name="tree_003" position="0.4,0,-1.4" scale="0.005" mesh="{Tree_02_a}" />
      <object name="tree_004" position="-0.7,0,-2.4" scale="0.3" mesh="{pinetree_mesh}" />
      <object name="tree_005" position="-1.6,0,-2.6" scale="0.5" mesh="{pinetree_mesh}" />
      <object name="tree_006" position="0.2,0,-2.0" scale="0.35" mesh="{pinetree_mesh}" />
      <object name="tree_007" position="1.4,0,-2.8" scale="0.6" mesh="{pinetree_mesh}" />
      <object name="watchtower_001" position="-3.5,0,-4.5" scale="0.001" mesh="{watchtower_main}">

        <!--<object name="watchtower_window_001" position="0,-30,30" scale="0.6" mesh="{watchtower_window}"/>-->
        <!--<object name="watchtower_entrance_001" mesh="{watchtower_entrance}"/>
        <object name="watchtower_flag_001" mesh="{watchtower_flag}"/>-->
      </object>


      <player_controller name="player" position="0,0.0,0">

        <creature name="horse" position="-1,0,0" scale ="0.01" action="walk" mesh="{horse_mesh}">
          <creature.behavier>
            <behavier name="horse_behavier" armature="Horse_Idle.fbx">
              <behavier.actions>
                <action name="walk" src="Horse_Walk.fbx"/>
                <!--<action name="run" src="Horse_Run.fbx"/>-->
              </behavier.actions>
            </behavier>
          </creature.behavier>
        </creature>
        <action name="idle" src="Horse_Idle.fbx"/>

        <!--<creature name="spider" position="1,0,0" scale="0.00125" action="walk" mesh="{spider_mesh}">
          <creature.behavier>
            <behavier name="spider_behavier" src="spider.fbx"></behavier>
          </creature.behavier>
        </creature>-->

        <!--<creature name="allosaurus" position="0,0,-1" scale ="0.01" action="idle" mesh="{allosaurus_mesh}">
          <creature.behavier>
            <behavier name="allosaurus_behavier" armature="Allosaurus.fbx">
              <behavier.actions>
                <action name="idle" src="Allosaurus_Idle.FBX"/>
                <action name="walk" src="Allosaurus_Walk.FBX"/>
                <action name="run" src="Allosaurus_Run.FBX"/>
                <action name="attack" src="Allosaurus_Attack01.FBX"/>
                <action name="hit" src="Allosaurus_Hit01.FBX"/>
                <action name="die" src="Allosaurus_Die.FBX"/>
              </behavier.actions>
            </behavier>
          </creature.behavier>
        </creature>-->

        <!--<creature name="cat" position="0,0,1" scale ="0.02" action="walk" mesh="{cat_mesh}">
          <creature.behavier>
            <behavier name="cat_beyhavier" armature="kitten.fbx">
              <behavier.actions>
                
        --><!--<action name="idle" src="kitten_Idle.fbx"/>--><!--
        
                <action name="walk" src="kitten_Walk.fbx"/>
                <action name="run" src="kitten_Run.fbx"/>
                --><!--<action name="jump" src="kitten_Jump.fbx"/>--><!--
                
        --><!--<action name="hit" src="kitten_Itching.fbx"/>
                <action name="attack" src="kitten_Meow.fbx"/>-->
            <!--
        
              </behavier.actions>
            </behavier>
          </creature.behavier>
        </creature>-->
      </player_controller>
    </grid>
  </scene.content>
</scene>